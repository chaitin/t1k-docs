{"config":{"lang":["en","zh"],"separator":"[\\s\\u200b\\u3000\\-\u3001\u3002\uff0c\uff0e\uff1f\uff01\uff1b]+","pipeline":["stemmer"]},"docs":[{"location":"docs/","title":"T1K \u6587\u6863","text":"<p>\u957f\u4ead\u79d1\u6280\u63d0\u4f9b\u7684 T1K \u6a21\u5757\u53ef\u4ee5\u4e3a\u4efb\u4f55\u57fa\u4e8e Nginx\uff08\u5305\u62ec Nginx Plus\uff09\u7684\u4ee3\u7406\u670d\u52a1\u589e\u52a0 WAF / API \u5b89\u5168\u529f\u80fd\u3002</p> <p>\u76f8\u6bd4\u4e8e\u57fa\u4e8e OpenResty \u80fd\u529b\u7528 Lua \u5199\u7684 WAF \u6a21\u5757\uff0c\u4f8b\u5982\u6211\u4eec\u7684 Lua-Resty-T1K\uff0cC \u8bed\u8a00\u7f16\u5199\u7684 T1K \u6a21\u5757\u62e5\u6709\u66f4\u9ad8\u7684\u6027\u80fd\uff0c\u4ee5\u53ca\u72ec\u5bb6\u7684\u54cd\u5e94\u68c0\u6d4b\u80fd\u529b\u3002</p>"},{"location":"docs/#_1","title":"\u8bf7\u6c42\u68c0\u6d4b","text":"<p>\u8bf7\u6c42\u68c0\u6d4b\u76f8\u5173\u914d\u7f6e\u5747\u4ee5 <code>t1k_</code> \u5f00\u5934\u3002</p>"},{"location":"docs/#t1k_intercept","title":"t1k_intercept","text":"<pre><code>Syntax:  t1k_intercept uri | off;\nDefault: t1k_intercept off;\nContext: http, server, location</code></pre> <p>\u5c06\u8bf7\u6c42\u53d1\u9001\u5230 <code>uri</code> \u5904\u8fdb\u884c\u68c0\u6d4b\uff0c<code>uri</code> \u662f\u4f4d\u4e8e\u540c <code>server</code> \u5185\u7684\u4e00\u4e2a <code>location</code>\u3002</p>"},{"location":"docs/#t1k_error_page","title":"t1k_error_page","text":"<pre><code>Syntax:  t1k_error_page status_code uri;\nDefault: t1k_error_page 403 default;\nContext: http, server, location</code></pre> <p>\u8bbe\u7f6e\u8bf7\u6c42\u88ab\u62e6\u622a\u65f6\u7684\u72b6\u6001\u7801\u4e0e\u8fd4\u56de\u5185\u5bb9\u3002</p> <p><code>status_code</code> \u9700\u6ee1\u8db3 <code>200 &lt;= status_code &lt;= 599</code>\u3002</p> <p><code>uri</code> \u4e3a\u540c <code>server</code> \u5185\u7684\u4e00\u4e2a <code>(named) location</code>\u3002</p>"},{"location":"docs/#t1k_pass","title":"t1k_pass","text":"<pre><code>Syntax:  t1k_pass uri;\nDefault: -\nContext: location</code></pre> <p>\u5c06\u8bf7\u6c42\u53d1\u9001\u5230\u7ed9\u5b9a\u68c0\u6d4b\u670d\u52a1\uff0c<code>uri</code> \u4e3a\u540c <code>server</code> \u5185\u7684\u4e00\u4e2a <code>(named) location</code>\u3002</p>"},{"location":"docs/#t1k_bind","title":"t1k_bind","text":"<pre><code>Syntax:  t1k_bind address [transparent] | off;\nDefault: -\nContext: http, server, location</code></pre> <p>\u5c06\u8bf7\u6c42\u53d1\u9001\u5230\u7ed9\u5b9a\u68c0\u6d4b\u670d\u52a1\u65f6\uff0c\u53ef\u4ee5\u6307\u5b9a\u672c\u5730\u5730\u5740\u3002</p> <p>\u53c2\u8003 <code>[proxy_bind](https://nginx.org/en/docs/http/ngx_http_proxy_module.html#proxy_bind)</code>\u3002</p>"},{"location":"docs/#t1k_body_size","title":"t1k_body_size","text":"<pre><code>Syntax:  t1k_body_size size;\nDefault: t1k_body_size 0;\nContext: http, server, location</code></pre> <p>\u9650\u5236\u53d1\u9001\u8bf7\u6c42\u4f53\u7684\u5927\u5c0f\uff0c0 \u4e3a\u4e0d\u9650\u5236\u5927\u5c0f\u3002</p>"},{"location":"docs/#t1k_buffer_size","title":"t1k_buffer_size","text":"<pre><code>Syntax:  t1k_buffer_size size;\nDefault: -;\nContext: http, server, location</code></pre> <p>\u4fee\u6539\u4ece\u68c0\u6d4b\u670d\u52a1\u8bfb\u53d6\u8bf7\u6c42\u68c0\u6d4b\u7ed3\u679c\u7684\u7f13\u5b58\u533a\u5927\u5c0f\uff0c\u9ed8\u8ba4\u4e3a\u7cfb\u7edf\u9875\u5927\u5c0f\u3002</p>"},{"location":"docs/#t1k_connect_timeout","title":"t1k_connect_timeout","text":"<pre><code>Syntax:  t1k_connect_timeout time;\nDefault: t1k_connect_timeout 10s;\nContext: http, server, location</code></pre> <p>\u8bf7\u6c42\u68c0\u6d4b\u8fde\u63a5\u68c0\u6d4b\u670d\u52a1\u8d85\u65f6\u65f6\u95f4\u3002</p>"},{"location":"docs/#t1k_send_timeout","title":"t1k_send_timeout","text":"<pre><code>Syntax:  t1k_send_timeout time;\nDefault: t1k_send_timeout 10s;\nContext: http, server, location</code></pre> <p>\u8bf7\u6c42\u68c0\u6d4b\u5355\u6b21\u53d1\u9001\u6570\u636e\u5230\u68c0\u6d4b\u670d\u52a1\u7684\u8d85\u65f6\u65f6\u95f4\u3002</p>"},{"location":"docs/#t1k_read_timeout","title":"t1k_read_timeout","text":"<pre><code>Syntax:  t1k_read_timeout time;\nDefault: t1k_read_timeout 10s;\nContext: http, server, location</code></pre> <p>\u8bf7\u6c42\u68c0\u6d4b\u5355\u6b21\u8bfb\u53d6\u68c0\u6d4b\u670d\u52a1\u8fd4\u56de\u6570\u636e\u7684\u8d85\u65f6\u65f6\u95f4\u3002</p>"},{"location":"docs/#t1k_next_upstream","title":"t1k_next_upstream","text":"<pre><code>Syntax:  t1k_next_upstream error | timeout | invalid_response | off;\nDefault: t1k_next_upstream error timeout;\nContext: http, server, location</code></pre> <p>\u8bf7\u6c42\u68c0\u6d4b\u5931\u8d25\u884c\u4e3a\uff0c\u914d\u7f6e\u53c2\u8003 <code>[proxy_next_upstream](https://nginx.org/en/docs/http/ngx_http_proxy_module.html#proxy_next_upstream)</code>\u3002</p>"},{"location":"docs/#_2","title":"\u54cd\u5e94\u68c0\u6d4b","text":"<p>\u54cd\u5e94\u68c0\u6d4b\u76f8\u5173\u914d\u7f6e\u5747\u4ee5 <code>tx_</code> \u5f00\u5934\u3002</p>"},{"location":"docs/#tx_intercept","title":"tx_intercept","text":"<pre><code>Syntax:  tx_intercept uri | off;\nDefault: tx_intercept off;\nContext: http, server, location</code></pre> <p>\u5c06\u54cd\u5e94\u53d1\u9001\u5230 <code>uri</code> \u5904\u8fdb\u884c\u68c0\u6d4b\uff0c<code>uri</code> \u662f\u4f4d\u4e8e\u540c <code>server</code> \u5185\u7684\u4e00\u4e2a <code>location</code>\u3002</p>"},{"location":"docs/#tx_error_page","title":"tx_error_page","text":"<pre><code>Syntax:  tx_error_page status_code uri;\nDefault: tx_error_page 403 default;\nContext: http, server, location</code></pre> <p>\u8bbe\u7f6e\u54cd\u5e94\u88ab\u62e6\u622a\u65f6\u7684\u72b6\u6001\u7801\u4e0e\u8fd4\u56de\u5185\u5bb9\u3002</p> <p><code>status_code</code> \u9700\u6ee1\u8db3 <code>200 &lt;= status_code &lt;= 599</code>\u3002</p> <p><code>uri</code> \u4e3a\u540c <code>server</code> \u5185\u7684\u4e00\u4e2a <code>(named) location</code>\u3002</p>"},{"location":"docs/#tx_pass","title":"tx_pass","text":"<pre><code>Syntax:  tx_pass uri;\nDefault: -\nContext: location</code></pre> <p>\u5c06\u54cd\u5e94\u53d1\u9001\u5230\u7ed9\u5b9a\u68c0\u6d4b\u670d\u52a1\uff0c<code>uri</code> \u4e3a\u540c <code>server</code> \u5185\u7684\u4e00\u4e2a <code>(named) location</code>\u3002</p>"},{"location":"docs/#tx_bind","title":"tx_bind","text":"<pre><code>Syntax:  tx_bind address [transparent] | off;\nDefault: -\nContext: http, server, location</code></pre> <p>\u5c06\u54cd\u5e94\u53d1\u9001\u5230\u7ed9\u5b9a\u68c0\u6d4b\u670d\u52a1\u65f6\uff0c\u53ef\u4ee5\u6307\u5b9a\u672c\u5730\u5730\u5740\u3002</p> <p>\u53c2\u8003 <code>[proxy_bind](https://nginx.org/en/docs/http/ngx_http_proxy_module.html#proxy_bind)</code>\u3002</p>"},{"location":"docs/#tx_body_size","title":"tx_body_size","text":"<pre><code>Syntax:  tx_body_size size;\nDefault: tx_body_size 4k;\nContext: http, server, location</code></pre> <p>\u9650\u5236\u53d1\u9001\u54cd\u5e94\u4f53\u7684\u5927\u5c0f\uff0c0 \u4e3a\u4e0d\u9650\u5236\u5927\u5c0f\u3002</p>"},{"location":"docs/#tx_buffer_size","title":"tx_buffer_size","text":"<pre><code>Syntax:  tx_buffer_size size;\nDefault: -;\nContext: http, server, location</code></pre> <p>\u4fee\u6539\u4ece\u68c0\u6d4b\u670d\u52a1\u8bfb\u53d6\u54cd\u5e94\u68c0\u6d4b\u7ed3\u679c\u7684\u7f13\u5b58\u533a\u5927\u5c0f\uff0c\u9ed8\u8ba4\u4e3a\u7cfb\u7edf\u9875\u5927\u5c0f\u3002</p>"},{"location":"docs/#tx_connect_timeout","title":"tx_connect_timeout","text":"<pre><code>Syntax:  tx_connect_timeout time;\nDefault: tx_connect_timeout 10s;\nContext: http, server, location</code></pre> <p>\u54cd\u5e94\u68c0\u6d4b\u8fde\u63a5\u68c0\u6d4b\u670d\u52a1\u8d85\u65f6\u65f6\u95f4\u3002</p>"},{"location":"docs/#tx_send_timeout","title":"tx_send_timeout","text":"<pre><code>Syntax:  tx_send_timeout time;\nDefault: tx_send_timeout 10s;\nContext: http, server, location</code></pre> <p>\u54cd\u5e94\u68c0\u6d4b\u5355\u6b21\u53d1\u9001\u6570\u636e\u5230\u68c0\u6d4b\u670d\u52a1\u7684\u8d85\u65f6\u65f6\u95f4\u3002</p>"},{"location":"docs/#tx_read_timeout","title":"tx_read_timeout","text":"<pre><code>Syntax:  tx_read_timeout time;\nDefault: tx_read_timeout 10s;\nContext: http, server, location</code></pre> <p>\u54cd\u5e94\u68c0\u6d4b\u5355\u6b21\u8bfb\u53d6\u68c0\u6d4b\u670d\u52a1\u8fd4\u56de\u6570\u636e\u7684\u8d85\u65f6\u65f6\u95f4\u3002</p>"},{"location":"docs/#tx_next_upstream","title":"tx_next_upstream","text":"<pre><code>Syntax:  tx_next_upstream error | timeout | invalid_response | off;\nDefault: tx_next_upstream error timeout;\nContext: http, server, location</code></pre> <p>\u54cd\u5e94\u68c0\u6d4b\u5931\u8d25\u884c\u4e3a\uff0c\u914d\u7f6e\u53c2\u8003 <code>[proxy_next_upstream](https://nginx.org/en/docs/http/ngx_http_proxy_module.html#proxy_next_upstream)</code>\u3002</p>"},{"location":"docs/#_3","title":"\u54cd\u5e94\u4fee\u6539","text":""},{"location":"docs/#t1k_extra_header","title":"t1k_extra_header","text":"<pre><code>Syntax:  t1k_extra_header [on|off];\nDefault: t1k_extra_header off;\nContext: http, server, location</code></pre> <p>\u662f\u5426\u5141\u8bb8\u63d2\u5165\u989d\u5916\u7684\u8bf7\u6c42\u5934\u3002</p>"},{"location":"docs/#t1k_extra_body","title":"t1k_extra_body","text":"<pre><code>Syntax:  t1k_extra_body [on|off];\nDefault: t1k_extra_body off;\nContext: http, server, location</code></pre> <p>\u662f\u5426\u5141\u8bb8\u63d2\u5165\u989d\u5916\u7684\u8bf7\u6c42\u4f53\u3002</p>"},{"location":"docs/#t1k_extra_body_types","title":"t1k_extra_body_types","text":"<pre><code>Syntax:  t1k_extra_body_types { ... };\nDefault: t1k_extra_body_types text/html;\nContext: http, server, location</code></pre> <p>\u5141\u8bb8\u63d2\u5165\u989d\u5916\u7684\u8bf7\u6c42\u4f53\u7684\u7c7b\u578b\u3002</p>"},{"location":"docs/#_4","title":"\u6742\u9879","text":""},{"location":"docs/#t1k_ulog","title":"t1k_ulog","text":"<pre><code>Syntax:  t1k_ulog [number|off];\nDefault: t1k_ulog off;\nContext: http, server, location</code></pre> <p>\u662f\u5426\u53d1\u9001 Access Log \u76f8\u5173\u6570\u636e\u3002</p>"},{"location":"docs/#t1k_stat","title":"t1k_stat","text":"<pre><code>Syntax:  t1k_stat [number|off];\nDefault: t1k_stat off;\nContext: http, server, location</code></pre> <p>\u662f\u5426\u53d1\u9001\u68c0\u6d4b\u6a21\u5757\u6027\u80fd\u7edf\u8ba1\u6570\u636e\u3002</p>"},{"location":"docs/#t1k_src_ip","title":"t1k_src_ip","text":"<pre><code>Syntax:  t1k_src_ip value;\nDefault: -\nContext: http, server, location</code></pre> <p>\u8bbe\u7f6e\u53d1\u9001\u7ed9\u68c0\u6d4b\u670d\u52a1\u7684\u8bf7\u6c42\u6e90 IP\uff0c<code>value</code> \u53ef\u4ee5\u4e3a\u5b57\u7b26\u4e32\u6216\u53d8\u91cf\u3002</p>"},{"location":"docs/#t1k_src_port","title":"t1k_src_port","text":"<pre><code>Syntax:  t1k_src_port value;\nDefault: -\nContext: http, server, location</code></pre> <p>\u8bbe\u7f6e\u53d1\u9001\u7ed9\u68c0\u6d4b\u670d\u52a1\u7684\u8bf7\u6c42\u6e90\u7aef\u53e3\uff0c<code>value</code> \u53ef\u4ee5\u4e3a\u5b57\u7b26\u4e32\u6216\u53d8\u91cf\u3002</p>"},{"location":"docs/#t1k_dst_ip","title":"t1k_dst_ip","text":"<pre><code>Syntax:  t1k_dst_ip value;\nDefault: -\nContext: http, server, location</code></pre> <p>\u8bbe\u7f6e\u53d1\u9001\u7ed9\u68c0\u6d4b\u670d\u52a1\u7684\u8bf7\u6c42\u76ee\u6807 IP\uff0c<code>value</code> \u53ef\u4ee5\u4e3a\u5b57\u7b26\u4e32\u6216\u53d8\u91cf\u3002</p>"},{"location":"docs/#t1k_dst_port","title":"t1k_dst_port","text":"<pre><code>Syntax:  t1k_dst_port value;\nDefault: -\nContext: http, server, location</code></pre> <p>\u8bbe\u7f6e\u53d1\u9001\u7ed9\u68c0\u6d4b\u670d\u52a1\u7684\u8bf7\u6c42\u76ee\u6807\u7aef\u53e3\uff0c<code>value</code> \u53ef\u4ee5\u4e3a\u5b57\u7b26\u4e32\u6216\u53d8\u91cf\u3002</p>"},{"location":"docs/#foreach_server","title":"foreach_server","text":"<pre><code>Syntax:  foreach_server { ... };\nDefault: -\nContext: http</code></pre> <p>\u5411\u6bcf\u4e2a\u5df2\u51fa\u73b0\u7684 <code>server</code> \u4e2d\u63d2\u5165\u6307\u4ee4\u3002</p> <p>\u5df2\u51fa\u73b0\u7684 <code>server</code> \u662f\u6307\u51fa\u73b0\u5728\u8be5\u6307\u4ee4\u4e4b\u524d\u7684\u3001\u5df2\u7ecf\u88ab\u89e3\u6790\u7684 <code>server</code> \u914d\u7f6e\u3002</p> <p>\u56e0\u6b64\u4e00\u822c\u8be5\u6307\u4ee4\u7684\u4f7f\u7528\u662f\u5728\u6240\u6709\u8981\u9632\u62a4\u7684server\u914d\u7f6e\u5757\u7684\u6700\u540e\uff0c\u5e76\u4e14\u4fdd\u8bc1\u8be5\u6307\u4ee4\u524d\u9762\u4e00\u5b9a\u8981\u6709 <code>server</code> \u914d\u7f6e\u3002</p> <p>\u63a8\u8350\u4f7f\u7528 <code>foreach_server_include</code>\u3002</p>"},{"location":"docs/#foreach_server_include","title":"foreach_server_include","text":"<pre><code>Syntax:  foreach_server_include file;\nDefault: -\nContext: http</code></pre> <p>\u5411\u6bcf\u4e2a\u5df2\u51fa\u73b0\u7684 <code>server</code> \u4e2d\u63d2\u5165\u6307\u4ee4\u3002</p> <p>\u5df2\u51fa\u73b0\u7684 <code>server</code> \u662f\u6307\u51fa\u73b0\u5728\u8be5\u6307\u4ee4\u4e4b\u524d\u7684\u3001\u5df2\u7ecf\u88ab\u89e3\u6790\u7684 <code>server</code> \u914d\u7f6e\u3002</p>"}]}