{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"docs/","title":"T1K Documentation","text":"<p>Chaitin Technology has launched the T1K module, which can provide WAF/API security reinforcement for all proxy services based on Nginx (including Nginx Plus).</p> <p>Compared to our Lua-Resty-T1K developed in Lua, the T1K module crafted in C not only delivers superior performance but also features unique response detection capabilities.</p>"},{"location":"docs/#request-detection","title":"Request Detection","text":"<p>All configurations related to request detection are prefixed with <code>t1k_</code>.</p>"},{"location":"docs/#t1k_intercept","title":"t1k_intercept","text":"<pre><code>Syntax:  t1k_intercept uri | off;\nDefault: t1k_intercept off;\nContext: http, server, location</code></pre> <p>Sends the request to <code>uri</code> for detection, where <code>uri</code> is a <code>location</code> within the same <code>server</code>.</p>"},{"location":"docs/#t1k_error_page","title":"t1k_error_page","text":"<pre><code>Syntax:  t1k_error_page status_code uri;\nDefault: t1k_error_page 403 default;\nContext: http, server, location</code></pre> <p>Sets the status code and content when a request is intercepted.</p> <p><code>status_code</code> must satisfy <code>200 &lt;= status_code &lt;= 599</code>.</p> <p><code>uri</code> is a <code>(named) location</code> within the same <code>server</code>.</p>"},{"location":"docs/#t1k_pass","title":"t1k_pass","text":"<pre><code>Syntax:  t1k_pass uri;\nDefault: -\nContext: location</code></pre> <p>Sends the request to the given detection service. <code>uri</code> is a <code>(named) location</code> within the same <code>server</code>.</p>"},{"location":"docs/#t1k_bind","title":"t1k_bind","text":"<pre><code>Syntax:  t1k_bind address [transparent] | off;\nDefault: -\nContext: http, server, location</code></pre> <p>Allows specifying a local address when sending a request to a detection service.</p> <p>Refer to <code>[proxy_bind](https://nginx.org/en/docs/http/ngx_http_proxy_module.html#proxy_bind)</code>.</p>"},{"location":"docs/#t1k_body_size","title":"t1k_body_size","text":"<pre><code>Syntax:  t1k_body_size size;\nDefault: t1k_body_size 0;\nContext: http, server, location</code></pre> <p>Limits the size of the request body sent, where 0 means no limit.</p>"},{"location":"docs/#t1k_buffer_size","title":"t1k_buffer_size","text":"<pre><code>Syntax:  t1k_buffer_size size;\nDefault: -;\nContext: http, server, location</code></pre> <p>Modifies the buffer size for reading detection results from the detection service, defaulting to the system page size.</p>"},{"location":"docs/#t1k_connect_timeout","title":"t1k_connect_timeout","text":"<pre><code>Syntax:  t1k_connect_timeout time;\nDefault: t1k_connect_timeout 10s;\nContext: http, server, location</code></pre> <p>The timeout for connecting to the detection service for request detection.</p>"},{"location":"docs/#t1k_send_timeout","title":"t1k_send_timeout","text":"<pre><code>Syntax:  t1k_send_timeout time;\nDefault: t1k_send_timeout 10s;\nContext: http, server, location</code></pre> <p>The timeout for sending data to the detection service per request detection.</p>"},{"location":"docs/#t1k_read_timeout","title":"t1k_read_timeout","text":"<pre><code>Syntax:  t1k_read_timeout time;\nDefault: t1k_read_timeout 10s;\nContext: http, server, location</code></pre> <p>The timeout for reading data from the detection service per request detection.</p>"},{"location":"docs/#t1k_next_upstream","title":"t1k_next_upstream","text":"<pre><code>Syntax:  t1k_next_upstream error | timeout | invalid_response | off;\nDefault: t1k_next_upstream error timeout;\nContext: http, server, location</code></pre> <p>Behavior on request detection failure.</p> <p>Refer to <code>[proxy_next_upstream](https://nginx.org/en/docs/http/ngx_http_proxy_module.html#proxy_next_upstream)</code>.</p>"},{"location":"docs/#response-detection","title":"Response Detection","text":"<p>All configurations related to response detection are prefixed with <code>tx_</code>.</p>"},{"location":"docs/#tx_intercept","title":"tx_intercept","text":"<pre><code>Syntax:  tx_intercept uri | off;\nDefault: tx_intercept off;\nContext: http, server, location</code></pre> <p>Sends the response to <code>uri</code> for detection, where <code>uri</code> is a <code>location</code> within the same <code>server</code>.</p>"},{"location":"docs/#tx_error_page","title":"tx_error_page","text":"<pre><code>Syntax:  tx_error_page status_code uri;\nDefault: tx_error_page 403 default;\nContext: http, server, location</code></pre> <p>Sets the status code and content when a response is intercepted.</p> <p><code>status_code</code> must satisfy <code>200 &lt;= status_code &lt;= 599</code>.</p> <p><code>uri</code> is a <code>(named) location</code> within the same <code>server</code>.</p>"},{"location":"docs/#tx_pass","title":"tx_pass","text":"<pre><code>Syntax:  tx_pass uri;\nDefault: -\nContext: location</code></pre> <p>Sends the response to the given detection service. <code>uri</code> is a <code>(named) location</code> within the same <code>server</code>.</p>"},{"location":"docs/#tx_bind","title":"tx_bind","text":"<pre><code>Syntax:  tx_bind address [transparent] | off;\nDefault: -\nContext: http, server, location</code></pre> <p>Allows specifying a local address when sending a response to a detection service.</p> <p>Refer to <code>[proxy_bind](https://nginx.org/en/docs/http/ngx_http_proxy_module.html#proxy_bind)</code>.</p>"},{"location":"docs/#tx_body_size","title":"tx_body_size","text":"<pre><code>Syntax:  tx_body_size size;\nDefault: tx_body_size 4k;\nContext: http, server, location</code></pre> <p>Limits the size of the response body sent, where 0 means no limit.</p>"},{"location":"docs/#tx_buffer_size","title":"tx_buffer_size","text":"<pre><code>Syntax:  tx_buffer_size size;\nDefault: -;\nContext: http, server, location</code></pre> <p>Modifies the buffer size for reading detection results from the detection service, defaulting to the system page size.</p>"},{"location":"docs/#tx_connect_timeout","title":"tx_connect_timeout","text":"<pre><code>Syntax:  tx_connect_timeout time;\nDefault: tx_connect_timeout 10s;\nContext: http, server, location</code></pre> <p>The timeout for connecting to the detection service for response detection.</p>"},{"location":"docs/#tx_send_timeout","title":"tx_send_timeout","text":"<pre><code>Syntax:  tx_send_timeout time;\nDefault: tx_send_timeout 10s;\nContext: http, server, location</code></pre> <p>The timeout for sending data to the detection service per response detection.</p>"},{"location":"docs/#tx_read_timeout","title":"tx_read_timeout","text":"<pre><code>Syntax:  tx_read_timeout time;\nDefault: tx_read_timeout 10s;\nContext: http, server, location</code></pre> <p>The timeout for reading data from the detection service per response detection.</p>"},{"location":"docs/#tx_next_upstream","title":"tx_next_upstream","text":"<pre><code>Syntax:  tx_next_upstream error | timeout | invalid_response | off;\nDefault: tx_next_upstream error timeout;\nContext: http, server, location</code></pre> <p>Behavior on response detection failure.</p> <p>Refer to <code>[proxy_next_upstream](https://nginx.org/en/docs/http/ngx_http_proxy_module.html#proxy_next_upstream)</code>.</p>"},{"location":"docs/#response-modification","title":"Response Modification","text":""},{"location":"docs/#t1k_extra_header","title":"t1k_extra_header","text":"<pre><code>Syntax:  t1k_extra_header [on|off];\nDefault: t1k_extra_header off;\nContext: http, server, location</code></pre> <p>Determines whether additional request headers are allowed to be inserted.</p>"},{"location":"docs/#t1k_extra_body","title":"t1k_extra_body","text":"<pre><code>Syntax:  t1k_extra_body [on|off];\nDefault: t1k_extra_body off;\nContext: http, server, location</code></pre> <p>Determines whether additional request bodies are allowed to be inserted.</p>"},{"location":"docs/#t1k_extra_body_types","title":"t1k_extra_body_types","text":"<pre><code>Syntax:  t1k_extra_body_types { ... };\nDefault: t1k_extra_body_types text/html;\nContext: http, server, location</code></pre> <p>Specifies the types of request bodies that are allowed for additional content insertion.</p>"},{"location":"docs/#miscellaneous","title":"Miscellaneous","text":""},{"location":"docs/#t1k_ulog","title":"t1k_ulog","text":"<pre><code>Syntax:  t1k_ulog [number|off];\nDefault: t1k_ulog off;\nContext: http, server, location</code></pre> <p>Determines whether to send Access Log related data.</p>"},{"location":"docs/#t1k_stat","title":"t1k_stat","text":"<pre><code>Syntax:  t1k_stat [number|off];\nDefault: t1k_stat off;\nContext: http, server, location</code></pre> <p>Determines whether to send detection module performance statistics data.</p>"},{"location":"docs/#t1k_src_ip","title":"t1k_src_ip","text":"<pre><code>Syntax:  t1k_src_ip value;\nDefault: -\nContext: http, server, location</code></pre> <p>Sets the source IP address for requests sent to the detection service.</p> <p><code>value</code> can be a string or variable.</p>"},{"location":"docs/#t1k_src_port","title":"t1k_src_port","text":"<pre><code>Syntax:  t1k_src_port value;\nDefault: -\nContext: http, server, location</code></pre> <p>Sets the source port for requests sent to the detection service.</p> <p><code>value</code> can be a string or variable.</p>"},{"location":"docs/#t1k_dst_ip","title":"t1k_dst_ip","text":"<pre><code>Syntax:  t1k_dst_ip value;\nDefault: -\nContext: http, server, location</code></pre> <p>Sets the destination IP address for requests sent to the detection service.</p> <p><code>value</code> can be a string or variable.</p>"},{"location":"docs/#t1k_dst_port","title":"t1k_dst_port","text":"<pre><code>Syntax:  t1k_dst_port value;\nDefault: -\nContext: http, server, location</code></pre> <p>Sets the destination port for requests sent to the detection service.</p> <p><code>value</code> can be a string or variable.</p>"},{"location":"docs/#foreach_server","title":"foreach_server","text":"<pre><code>Syntax:  foreach_server { ... };\nDefault: -\nContext: http</code></pre> <p>Inserts directives into each already appeared <code>server</code>.</p> <p>Already appeared <code>servers</code> refer to those <code>server</code> configurations that have appeared before this directive and have been parsed.</p> <p>Therefore, this directive is typically used at the end of all the server configuration blocks that require protection, ensuring that there are <code>server</code> configurations before this directive.</p> <p>It is recommended to use <code>foreach_server_include</code> instead.</p>"},{"location":"docs/#foreach_server_include","title":"foreach_server_include","text":"<pre><code>Syntax:  foreach_server_include file;\nDefault: -\nContext: http</code></pre> <p>Inserts directives into each already appeared <code>server</code>.</p> <p>Already appeared <code>servers</code> refer to those <code>server</code> configurations that have appeared before this directive and have been parsed.</p>"}]}